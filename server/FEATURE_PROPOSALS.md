# 추가 기능 제안

## 구현된 기능

### ✅ 채팅 로그 시스템
- 채팅 메시지 자동 저장
- 사용자별 통계 집계
- 기간별 채팅 조회
- 반응 수집 구조 (기본 구조 완성)

### ✅ 통계 기능
- 이번 주/이번 달 말 많은 TOP 3
- 가장 반응 많이 받은 유저
- 관찰자 비율
- 가장 활발한 시간대

## 향후 구현 가능한 기능

### 1. 주제별 통계 (키워드 분석)
**구현 방법:**
- 자연어 처리 라이브러리 사용 (예: `natural`, `compromise`)
- 또는 간단한 키워드 추출 (명사 추출)
- `message_keywords` 테이블 활용

**기능:**
- 자주 언급되는 주제 TOP 5
- 주제별 메시지 수 비율
- 새로 등장한 키워드 감지

### 2. 반응 수집 자동화
**구현 방법:**
- 카카오톡 알림에서 반응 정보 추출
- 또는 주기적으로 메시지 반응 상태 조회
- `chat_reactions` 테이블에 자동 저장

**기능:**
- 실시간 반응 수집
- 사용자별 반응 통계
- 관리자 반응 vs 일반 사용자 반응 구분

### 3. 사용자 활동 분석
**구현 방법:**
- `user_activity` 테이블 활용
- 마지막 메시지 시간 추적
- 읽기 전용 사용자 감지

**기능:**
- 활동 사용자 vs 관찰자 비율
- 사용자별 활동 패턴 분석
- 장기간 비활성 사용자 감지

### 4. 감정 분석
**구현 방법:**
- 감정 분석 라이브러리 사용 (예: `sentiment`)
- 또는 간단한 키워드 기반 감정 분류

**기능:**
- 긍정/부정/중립 메시지 비율
- 사용자별 감정 트렌드
- 시간대별 감정 변화

### 5. 멘션 분석
**구현 방법:**
- `has_mention` 필드 활용
- 멘션된 사용자 추출 및 저장

**기능:**
- 가장 많이 멘션된 사용자
- 멘션 네트워크 분석
- 멘션 응답률

### 6. 이미지/파일 통계
**구현 방법:**
- `has_image`, `message_type` 필드 활용

**기능:**
- 이미지 공유 빈도
- 가장 많이 이미지를 공유한 사용자
- 파일 타입별 통계

### 7. 대화 흐름 분석
**구현 방법:**
- 연속된 메시지 시간 간격 분석
- 대화 주제 전환 감지

**기능:**
- 대화 세션 분석
- 주제 전환 빈도
- 대화 참여도

### 8. 시간대별 패턴 분석
**구현 방법:**
- `hourly_message_count` JSONB 필드 활용

**기능:**
- 요일별 활동 패턴
- 시간대별 활동 히트맵
- 사용자별 활동 시간대

### 9. 관리자 대시보드
**구현 방법:**
- 웹 기반 대시보드 (React + Chart.js)
- 실시간 통계 시각화

**기능:**
- 실시간 채팅 모니터링
- 통계 차트 및 그래프
- 사용자 활동 히트맵

### 10. 알림 및 경고
**구현 방법:**
- 특정 조건 감지 시 알림

**기능:**
- 비활성 사용자 알림
- 이상 활동 감지
- 주제별 트렌드 알림

## 추천 구현 순서

1. **주제별 통계** - 가장 요청이 많고 구현이 상대적으로 쉬움
2. **반응 수집 자동화** - 데이터 수집이 중요
3. **사용자 활동 분석** - 이미 데이터가 수집되고 있음
4. **감정 분석** - 추가 인사이트 제공
5. **관리자 대시보드** - 시각화로 통계 활용도 향상

## 기술 스택 제안

### 자연어 처리
- `natural` - Node.js 자연어 처리 라이브러리
- `compromise` - 경량 자연어 처리
- `node-nlp` - 고급 자연어 처리

### 감정 분석
- `sentiment` - 간단한 감정 분석
- `vader-sentiment` - 소셜 미디어 감정 분석

### 시각화
- `Chart.js` - 웹 차트 라이브러리
- `D3.js` - 고급 데이터 시각화
- `Recharts` - React 차트 라이브러리

### 데이터 분석
- `lodash` - 데이터 조작 (이미 사용 중)
- `moment` - 날짜/시간 처리 (이미 사용 중일 수 있음)

