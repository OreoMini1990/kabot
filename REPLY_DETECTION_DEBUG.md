# 답장 메시지 감지 디버그 강화

## 문제점

사용자가 실제로 답장 메시지를 보냈지만 전혀 반응이 없음.

## 원인 추정

1. 답장 메시지가 DB에 저장되지 않음
2. `msg_type`이 26이 아님
3. `referer`나 `attachment`가 없음
4. 클라이언트가 답장 메시지를 감지하지 못함

## 수정 내용

### client/a.py

1. **msg_type 확인 로그 추가**:
   - `msg_type`이 0이 아닌 경우 로그 출력
   - 타입 정보 포함

2. **attachment 확인 로그 추가**:
   - `attachment`가 있는 경우 로그 출력
   - 타입 및 길이 정보 포함

3. **referer 확인 로그 추가**:
   - `referer`가 있는 경우 로그 출력
   - 타입 정보 포함

4. **attachment 복호화 로그 강화**:
   - 복호화 시도 전 로그
   - 복호화 성공/실패 로그
   - 복호화 결과 타입 및 길이 정보

5. **답장 감지 로그 강화**:
   - 답장 가능성 체크 로직 개선
   - 답장 가능한 이유 목록 출력
   - `attachment_decrypted`의 `src_message`/`logId`/`src_logId` 확인 로그

6. **답장 전송 전 최종 확인 로그**:
   - `reply_to_message_id`가 있거나 `msg_type=26`인 경우 로그 출력

## 변경 파일

### [수정] client/a.py
- 답장 메시지 감지 관련 디버그 로그 대폭 강화
- 각 단계별 상세 로그 추가

## 예상 결과

답장 메시지를 보내면 다음 로그가 출력되어야 함:

1. `[msg_type 확인]` - msg_type이 26인지 확인
2. `[attachment 확인]` - attachment가 있는지 확인
3. `[referer 확인]` - referer가 있는지 확인
4. `[attachment 복호화 시도]` - 복호화 시도
5. `[attachment 복호화 성공/실패]` - 복호화 결과
6. `[답장 감지]` - 답장 가능성 및 상세 정보
7. `[답장 전송]` - 답장 메시지 전송 확인

## 다음 단계

1. 답장 메시지를 다시 보내서 테스트
2. 클라이언트 로그에서 위의 로그들이 출력되는지 확인
3. 어떤 단계에서 문제가 발생하는지 파악

